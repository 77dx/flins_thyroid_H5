{"version":3,"sources":["webpack:///E:/zhijian/工控系统/industrialControl/main.js","webpack:///E:/zhijian/工控系统/industrialControl/pages/login/login.vue?a809","webpack:///E:/zhijian/工控系统/industrialControl/pages/login/login.vue?81e6","webpack:///E:/zhijian/工控系统/industrialControl/pages/login/login.vue?3834","webpack:///E:/zhijian/工控系统/industrialControl/pages/login/login.vue?13e3","webpack:///E:/zhijian/工控系统/industrialControl/pages/login/login.vue"],"names":["createPage","Page","data","phoneNum","verty","isCountdown","count","timer","onLoad","methods","getCode","console","log","TIME_COUNT","sendCode","setInterval","clearInterval","toLogin","uni","showToast","title","duration","icon","mobile","sms_code","then","res","code","access_token","id","setStorage","key","success","tags","switchTab","url","navigateTo","type"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=0202e768&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0202e768', component.options)\n    } else {\n      api.reload('0202e768', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=0202e768&\", function () {\n      api.rerender('0202e768', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/zhijian/工控系统/industrialControl/pages/login/login.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=0202e768&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { login,send_code } from '../../api/api.js'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tphoneNum: '',\n\t\t\tverty: '',\n\t\t\tisCountdown: false,\n\t\t\tcount: '',\n\t\t\ttimer: null\n\t\t}\n\t},\n\tonLoad() {\n\n\t},\n\tmethods: {\n\t\t//获取倒计时\n\t\tgetCode(){\n\t\t\tconsole.log(\"倒计时\")\n\t\t     const TIME_COUNT = 60;\n\t\t\t this.sendCode()\n\t\t     if (!this.timer) {\n\t\t       this.count = TIME_COUNT;\n\t\t       this.isCountdown = true;\n\t\t       this.timer = setInterval(() => {\n\t\t       if (this.count > 0 && this.count <= TIME_COUNT) {\n\t\t         this.count--;\n\t\t        } else {\n\t\t         this.isCountdown = false;\n\t\t         clearInterval(this.timer);\n\t\t         this.timer = null;\n\t\t        }\n\t\t       }, 1000)\n\t\t      }\n\t\t   } ,\n\t\t// 登录\n\t\ttoLogin(){\n\t\t\tif(!this.phoneNum){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入手机号码!',\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif(!this.verty){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入验证码!',\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconsole.log(\"login\")\n\t\t\tlogin({\n\t\t\t\tmobile: this.phoneNum,\n\t\t\t\tsms_code: this.verty\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\tconsole.log(res.data.data.access_token)\n\t\t\t\t\tconsole.log(res.data.data.id)\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t    key: 'access_token',\n\t\t\t\t\t    data: res.data.data.access_token,\n\t\t\t\t\t    success: function () {\n\t\t\t\t\t        // console.log('success');\n\t\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\t    key: 'member_id',\n\t\t\t\t\t\t\t    data: res.data.data.id,\n\t\t\t\t\t\t\t    success: function () {\n\t\t\t\t\t\t\t        // console.log('success');\n\t\t\t\t\t\t\t\t\tif(res.data.data.tags){ //已设置标签\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\t    url: '../index/index'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\t\turl: '../setTag/setTag'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取验证码\n\t\tsendCode(){\n\t\t\tif(!this.phoneNum){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请先输入手机号码!',\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconsole.log(\"进入接口\")\n\t\t\tsend_code({\n\t\t\t\tmobile: this.phoneNum,\n\t\t\t\ttype: 1 //注册/登录\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '短信发送成功!',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '短信发送失败，请重试!',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\tthis.isCountdown = false;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n}\n"],"sourceRoot":""}